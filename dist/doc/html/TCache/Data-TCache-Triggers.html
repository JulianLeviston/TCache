<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.TCache.Triggers</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-TCache-Triggers.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">TCache-0.11.0.0: A Transactional cache with user-defined persistence</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Data.TCache.Triggers</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:DBRef">DBRef</a> a = <a href="#v:DBRef">DBRef</a> !<a href="C:\Program Files (x86)\Haskell Platform\2013.2.0.0\lib/../doc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> !(<a href="Data-TCache-Defs.html#t:TPVar">TPVar</a> a)</li><li class="src short"><span class="keyword">data</span>  <a href="#t:Elem">Elem</a> a = <a href="#v:Elem">Elem</a> !a !<a href="Data-TCache-Defs.html#t:AccessTime">AccessTime</a> !<a href="Data-TCache-Defs.html#t:ModifTime">ModifTime</a></li><li class="src short"><span class="keyword">data</span>  <a href="#t:Status">Status</a> a<ul class="subs"><li>= <a href="#v:NotRead">NotRead</a>  </li><li>| <a href="#v:DoNotExist">DoNotExist</a>  </li><li>| <a href="#v:Exist">Exist</a> a  </li></ul></li><li class="src short"><a href="#v:addTrigger">addTrigger</a> :: (<a href="Data-TCache-IResource.html#t:IResource">IResource</a> a, <a href="C:\Program Files (x86)\Haskell Platform\2013.2.0.0\lib/../doc/html/libraries/base-4.6.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a) =&gt; (<a href="Data-TCache-Triggers.html#t:DBRef">DBRef</a> a -&gt; <a href="C:\Program Files (x86)\Haskell Platform\2013.2.0.0\lib/../doc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a -&gt; <a href="Data-TCache.html#t:STM">STM</a> ()) -&gt; <a href="C:\Program Files (x86)\Haskell Platform\2013.2.0.0\lib/../doc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:applyTriggers">applyTriggers</a> :: (<a href="Data-TCache-IResource.html#t:IResource">IResource</a> a, <a href="C:\Program Files (x86)\Haskell Platform\2013.2.0.0\lib/../doc/html/libraries/base-4.6.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a) =&gt; [<a href="Data-TCache-Triggers.html#t:DBRef">DBRef</a> a] -&gt; [<a href="C:\Program Files (x86)\Haskell Platform\2013.2.0.0\lib/../doc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a] -&gt; <a href="Data-TCache.html#t:STM">STM</a> ()</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:DBRef" class="def">DBRef</a> a </p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:DBRef" class="def">DBRef</a> !<a href="C:\Program Files (x86)\Haskell Platform\2013.2.0.0\lib/../doc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> !(<a href="Data-TCache-Defs.html#t:TPVar">TPVar</a> a)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:DBRef" class="caption collapser" onclick="toggleSection('i:DBRef')">Instances</p><div id="section.i:DBRef" class="show"><table><tr><td class="src"><a href="C:\Program Files (x86)\Haskell Platform\2013.2.0.0\lib/../doc/html/libraries/base-4.6.0.1/Data-Typeable-Internal.html#t:Typeable1">Typeable1</a> <a href="Data-TCache-Triggers.html#t:DBRef">DBRef</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="C:\Program Files (x86)\Haskell Platform\2013.2.0.0\lib/../doc/html/libraries/base-4.6.0.1/Data-Eq.html#t:Eq">Eq</a> (<a href="Data-TCache-Triggers.html#t:DBRef">DBRef</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="C:\Program Files (x86)\Haskell Platform\2013.2.0.0\lib/../doc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> (<a href="Data-TCache-Triggers.html#t:DBRef">DBRef</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-TCache-IResource.html#t:IResource">IResource</a> a, <a href="C:\Program Files (x86)\Haskell Platform\2013.2.0.0\lib/../doc/html/libraries/base-4.6.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a) =&gt; <a href="C:\Program Files (x86)\Haskell Platform\2013.2.0.0\lib/../doc/html/libraries/base-4.6.0.1/Text-Read.html#t:Read">Read</a> (<a href="Data-TCache-Triggers.html#t:DBRef">DBRef</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="C:\Program Files (x86)\Haskell Platform\2013.2.0.0\lib/../doc/html/libraries/base-4.6.0.1/Text-Show.html#t:Show">Show</a> (<a href="Data-TCache-Triggers.html#t:DBRef">DBRef</a> a)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Elem" class="def">Elem</a> a </p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Elem" class="def">Elem</a> !a !<a href="Data-TCache-Defs.html#t:AccessTime">AccessTime</a> !<a href="Data-TCache-Defs.html#t:ModifTime">ModifTime</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Elem" class="caption collapser" onclick="toggleSection('i:Elem')">Instances</p><div id="section.i:Elem" class="show"><table><tr><td class="src"><a href="C:\Program Files (x86)\Haskell Platform\2013.2.0.0\lib/../doc/html/libraries/base-4.6.0.1/Data-Typeable-Internal.html#t:Typeable1">Typeable1</a> <a href="Data-TCache-Triggers.html#t:Elem">Elem</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Status" class="def">Status</a> a </p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:NotRead" class="def">NotRead</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:DoNotExist" class="def">DoNotExist</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Exist" class="def">Exist</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Status" class="caption collapser" onclick="toggleSection('i:Status')">Instances</p><div id="section.i:Status" class="show"><table><tr><td class="src"><a href="C:\Program Files (x86)\Haskell Platform\2013.2.0.0\lib/../doc/html/libraries/base-4.6.0.1/Data-Typeable-Internal.html#t:Typeable1">Typeable1</a> <a href="Data-TCache-Triggers.html#t:Status">Status</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:addTrigger" class="def">addTrigger</a> :: (<a href="Data-TCache-IResource.html#t:IResource">IResource</a> a, <a href="C:\Program Files (x86)\Haskell Platform\2013.2.0.0\lib/../doc/html/libraries/base-4.6.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a) =&gt; (<a href="Data-TCache-Triggers.html#t:DBRef">DBRef</a> a -&gt; <a href="C:\Program Files (x86)\Haskell Platform\2013.2.0.0\lib/../doc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a -&gt; <a href="Data-TCache.html#t:STM">STM</a> ()) -&gt; <a href="C:\Program Files (x86)\Haskell Platform\2013.2.0.0\lib/../doc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> ()</p><div class="doc"><p>Add an user defined trigger to the list of triggers
Trriggers are called just before an object of the given type is created, modified or deleted.
The DBRef to the object and the new value is passed to the trigger.
The called trigger function has two parameters: the DBRef being accesed
(which still contains the old value), and the new value.
If the DBRef is being deleted, the second parameter is <code><a href="C:\Program Files (x86)\Haskell Platform\2013.2.0.0\lib/../doc/html/libraries/base-4.6.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>.
if the DBRef contains Nothing, then the object is being created
</p></div></div><div class="top"><p class="src"><a name="v:applyTriggers" class="def">applyTriggers</a> :: (<a href="Data-TCache-IResource.html#t:IResource">IResource</a> a, <a href="C:\Program Files (x86)\Haskell Platform\2013.2.0.0\lib/../doc/html/libraries/base-4.6.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> a) =&gt; [<a href="Data-TCache-Triggers.html#t:DBRef">DBRef</a> a] -&gt; [<a href="C:\Program Files (x86)\Haskell Platform\2013.2.0.0\lib/../doc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a] -&gt; <a href="Data-TCache.html#t:STM">STM</a> ()</p><div class="doc"><p>internally called when a DBRef is modified<em>deleted</em>created
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>